{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'stream')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`stream`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'crypto')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`crypto`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { cookies } from 'next/headers';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nexport function middleware(request) {\r\n  // Check if token exists in cookies\r\n  const token = cookies().get('auth_token')?.value;\r\n\r\n  if (!token) {\r\n    return NextResponse.json(\r\n      { error: 'Unauthorized - No token provided' },\r\n      { status: 401 }\r\n    );\r\n  }\r\n\r\n  try {\r\n    // Verify token\r\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\r\n    const requestHeaders = new Headers(request.headers);\r\n    requestHeaders.set('user-id', decoded.userId);\r\n\r\n    // Return response with userId in headers\r\n    return NextResponse.next({\r\n      request: {\r\n        headers: requestHeaders,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    return NextResponse.json(\r\n      { error: 'Unauthorized - Invalid token' },\r\n      { status: 401 }\r\n    );\r\n  }\r\n}\r\n\r\n// Configure middleware to run on specific paths\r\nexport const config = {\r\n  matcher: [\r\n    '/api/blogs/:path*',  // Protect all blog routes\r\n    '/create',           // Protect create page\r\n    '/edit/:path*',      // Protect edit pages\r\n  ]\r\n};"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;;;;AAEO,SAAS,WAAW,OAAO;IAChC,mCAAmC;IACnC,MAAM,QAAQ,IAAA,sLAAO,IAAG,GAAG,CAAC,eAAe;IAE3C,IAAI,CAAC,OAAO;QACV,OAAO,gMAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAmC,GAC5C;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI;QACF,eAAe;QACf,MAAM,UAAU,wJAAG,CAAC,MAAM,CAAC,OAAO,QAAQ,GAAG,CAAC,UAAU;QACxD,MAAM,iBAAiB,IAAI,QAAQ,QAAQ,OAAO;QAClD,eAAe,GAAG,CAAC,WAAW,QAAQ,MAAM;QAE5C,yCAAyC;QACzC,OAAO,gMAAY,CAAC,IAAI,CAAC;YACvB,SAAS;gBACP,SAAS;YACX;QACF;IACF,EAAE,OAAO,OAAO;QACd,OAAO,gMAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA+B,GACxC;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;KACD;AACH"}}]
}